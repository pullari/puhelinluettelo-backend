{"version":3,"sources":["components/PersonList.js","components/PersonForm.js","components/InputField.js","services/persons.js","App.js","index.js"],"names":["Person","_ref2","person","removePerson","react_default","a","createElement","name","number","type","onClick","PersonList","_ref","personList","query","map","toLowerCase","includes","PersonList_Person","key","PersonForm","_ref$person","handleSubmit","handleNameChange","handleNumberChange","onSubmit","value","onChange","InputField","text","valuePointer","onChangeFunc","baseUrl","services_persons","axios","get","then","response","data","newObject","post","id","put","concat","delete","Notification","action","message","status","className","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","setQuery","_useState9","_useState10","setAction","useEffect","personService","initialNotes","handleChange","event","handle","target","showNoti","setTimeout","updatePerson","personInDB","filter","p","window","confirm","updatedPerson","objectSpread","updatedPersons","catch","error","validatePerson","App_Notification","components_InputField","e","components_PersonForm","preventDefault","components_PersonList","filteredPersons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.b6ac6e15.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst PersonList = ({ personList, query, removePerson }) => (\r\n  personList.map(\r\n    person => {\r\n      if (person.name.toLowerCase().includes(query.toLowerCase())) return <Person key={person.name} person={person} removePerson={removePerson} />\r\n    }\r\n  )\r\n)\r\n\r\nconst Person = ({ person, removePerson }) => (\r\n  <div>{person.name} | {person.number}  \r\n  <button type=\"button\" onClick={() => { removePerson(person) }}>Poista!</button></div>\r\n)\r\n\r\nexport default PersonList","import React from 'react'\r\n\r\nconst PersonForm = ({ person: { name, number }, handleSubmit, handleNameChange, handleNumberChange }) => (\r\n  <form onSubmit={handleSubmit}>\r\n    <div>\r\n      nimi: <input value={name} onChange={handleNameChange} />\r\n    </div>\r\n    <div>\r\n      numero: <input value={number} onChange={handleNumberChange} />\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\">lisää</button>\r\n    </div>\r\n  </form>\r\n)\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst InputField = ({ text, valuePointer, onChangeFunc }) => (\r\n  <div>\r\n    {text} <input value={valuePointer} onChange={onChangeFunc} />\r\n  </div>\r\n)\r\n\r\nexport default InputField","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, update, remove }","import React, { useState, useEffect } from 'react'\r\nimport PersonList from './components/PersonList'\r\nimport PersonForm from './components/PersonForm'\r\nimport InputField from './components/InputField'\r\nimport personService from './services/persons'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ query, setQuery ] = useState('')\r\n  const [ action, setAction ] = useState(null)\r\n\r\n  useEffect(() => {\r\n    personService      \r\n      .getAll()      \r\n      .then(initialNotes => {        \r\n        setPersons(initialNotes)    \r\n      })\r\n  },[])\r\n\r\n  const handleChange = (event, handle) => {\r\n    handle(event.target.value) \r\n  }\r\n\r\n  const addPerson = (event) => {\r\n    event.preventDefault()\r\n\r\n    const person = {\r\n      name: newName,\r\n      number: newNumber,\r\n    }\r\n\r\n    if(validatePerson(person)) {\r\n      updatePerson(person)\r\n    } else {\r\n      personService      \r\n        .create(person)      \r\n        .then(person => {        \r\n          setPersons(persons.concat(person))\r\n          showNoti(`Lisättiin ${person.name} listaan`, 'success')\r\n          setNewName('')    \r\n        })\r\n        .catch(error => {\r\n          showNoti(`Henkilön ${person.name} lisäys epäonnistui`, 'error')\r\n        })\r\n    }\r\n  }\r\n\r\n  const showNoti = (message, status) => {\r\n    setAction({ message: message, status: status })\r\n    setTimeout(() => {\r\n      setAction(null)\r\n    }, 5000)\r\n  }\r\n\r\n  const updatePerson = (person) => {\r\n\r\n    const personInDB = persons.filter(p => p.name === person.name)[0]\r\n\r\n    if(window.confirm(`Päivitetäänkö ${person.name}?`)) {\r\n      const updatedPerson = {...personInDB, number: person.number}\r\n\r\n      personService.update(updatedPerson.id, updatedPerson)\r\n      .then(() => {\r\n        const updatedPersons = persons.map(p => p.id !== updatedPerson.id ? p : {...p, number: person.number})\r\n        setPersons(updatedPersons)\r\n        showNoti(`Päivitettiin ${personInDB.name}`, 'success')\r\n      })\r\n      .catch(error => {\r\n        showNoti(`Henkilön ${person.name} tietojen päivitys epäonnistui. Henkilö saattaa olla poistettu.`, 'error')\r\n      })\r\n    }\r\n  } \r\n\r\n  const removePerson = (person) => {\r\n    if(window.confirm(`Poistetaanko ${person.name}?`)) {\r\n      personService.remove(person.id)\r\n      .then(() => {\r\n        const filteredPersons = persons.filter(p => p.id !== person.id)\r\n        showNoti(`Poistettiin ${person.name} onnistuneesti`, 'success')\r\n        setPersons(filteredPersons)\r\n      })\r\n      .catch(error => {\r\n        showNoti(`Henkilön ${person.name} poisto epäonnistui. Henkilö saattaa olla jo poistettu.`, 'error')\r\n      })\r\n    }\r\n  }\r\n\r\n  const validatePerson = (person) =>  persons.map(p => p.name).includes(person.name)\r\n\r\n  return (\r\n    <div>\r\n      <h2>Puhelinluettelo</h2>\r\n      <Notification action={action} />\r\n      <InputField text='rajaa näytettäviä' valuePointer={query} onChangeFunc={(e) => handleChange(e, setQuery)} />\r\n      <h3>Lisää uusi</h3>\r\n      <PersonForm \r\n        person={{name: newName, number: newNumber}} \r\n        handleSubmit={addPerson} \r\n        handleNameChange={(e) => handleChange(e, setNewName)}\r\n        handleNumberChange={(e) => handleChange(e, setNewNumber)}\r\n      />\r\n      <h2>Numerot</h2>\r\n      <PersonList personList={persons} query={query} removePerson={removePerson} />\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Notification = ({ action }) => {\r\n  if (action === null) {\r\n    return null\r\n  }\r\n\r\n  const { message, status } = action;\r\n\r\n  if(status !== 'error') return (\r\n    <div className=\"success\">\r\n      {message}\r\n    </div>\r\n  )\r\n\r\n  return (\r\n    <div className=\"error\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}